<div class="dialog-container">
  <h2>–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞ –∏–∑ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤</h2>
  <div class="form-group" *ngIf="!recipes.length">
    <label for="ingredients">–í–≤–µ–¥–∏—Ç–µ –∏–º–µ—é—â–∏–µ—Å—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):</label>
    <textarea
      id="ingredients"
      [(ngModel)]="ingredients"
      placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –º–æ—Ä–∫–æ–≤—å, –ª—É–∫, –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞"
      rows="4"
    ></textarea>
  </div>
  <div class="error" *ngIf="error">{{ error }}</div>
  
  <div class="recipes-container" *ngIf="recipes.length">
    <button (click)="createRecipe()" [disabled]="loading" class="repeat-button">
      <span class="icon">üîÑ</span> –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–∏—Å–∫
    </button>
    <div *ngFor="let recipe of recipes" class="recipe-card">
      <div class="recipe-details">
        <div class="recipe-title">{{ recipe.name }}</div>
      </div>
      <div class="warning">
        <button class="gemini-button"
          (click)="onCreateRecipeFromDefault(recipe.name, recipe.id)"
          [disabled]="loadingMap[recipe.id]">
          {{ loadingMap[recipe.id] ? '–û–±—Ä–∞–±–æ—Ç–∫–∞...' : '–°–æ–∑–¥–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç' }}
        </button>
        <button class="search-button"
          (click)="searchRecipe(recipe.name)"
          [disabled]="loadingMap[recipe.id]">
          <span class="icon">üîç</span> –ù–∞–π—Ç–∏ —Ä–µ—Ü–µ–ø—Ç –Ω–∞ —Å–∞–π—Ç–µ
        </button>
      </div>
    </div>
  </div>

  <div class="buttons">
    <button (click)="close()" class="cancel-button">–û—Ç–º–µ–Ω–∞</button>
    <button *ngIf="!recipes.length" (click)="createRecipe()" [disabled]="loading" class="submit-button">
      {{ loading ? '–°–æ–∑–¥–∞–Ω–∏–µ...' : '–°–æ–∑–¥–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç' }}
    </button>
  </div>
</div>
